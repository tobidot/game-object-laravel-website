parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ohAD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.is_event_controller_interface=exports.is_controller_interface=exports.Controller=void 0;class e{constructor(e,t,r){this.models=e,this.views=t,this.controllers=r}}function t(t){return t instanceof e}function r(t){return t instanceof e}exports.Controller=e,exports.is_controller_interface=t,exports.is_event_controller_interface=r;
},{}],"XI4W":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function n(t){var e=i();return function(){var r,o=f(t);if(e){var n=f(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return c(this,r)}}function c(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?u(e):r}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseController=void 0;var s=require("@game.object/ts-game-toolbox/dist/src/abstract/mvc/Controller"),l=function(t){r(c,s.Controller);var o=n(c);function c(){return e(this,c),o.apply(this,arguments)}return c}();exports.BaseController=l;
},{"@game.object/ts-game-toolbox/dist/src/abstract/mvc/Controller":"ohAD"}],"ZDCN":[function(require,module,exports) {
"use strict";function e(e){return"object"==typeof e&&"event_name"in e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.is_controller_event=void 0,exports.is_controller_event=e;
},{}],"ppdp":[function(require,module,exports) {
"use strict";function e(e){return e instanceof t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.View=exports.is_view_interface=void 0,exports.is_view_interface=e;class t{constructor(e){this.collection=e,this.update=null}draw(){}set_update(e){return this.update=e,this}}exports.View=t;
},{}],"e3dh":[function(require,module,exports) {
"use strict";function e(e){return o(e)||n(e)||t(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(e,r){if(e){if("string"==typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,r):void 0}}function n(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e){if(Array.isArray(e))return i(e)}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.update_controller_response=void 0;var s=require("@game.object/ts-game-toolbox/dist/src/abstract/mvc/Controller"),a=require("@game.object/ts-game-toolbox/dist/src/abstract/mvc/ControllerEvent"),c=require("@game.object/ts-game-toolbox/dist/src/abstract/mvc/View");function l(r,t){if(null===t)return r;if(c.is_view_interface(t))return r.view=t,r;if(s.is_event_controller_interface(t))return r.controller=t,r;if(a.is_controller_event(t))return void 0===r.events&&(r.events=[]),r.events.push(t),r;var n;(r.controller=t.controller,r.view=t.view,void 0!==t.events)&&(void 0===r.events&&(r.events=[]),(n=r.events).push.apply(n,e(t.events)));return r}exports.update_controller_response=l;
},{"@game.object/ts-game-toolbox/dist/src/abstract/mvc/Controller":"ohAD","@game.object/ts-game-toolbox/dist/src/abstract/mvc/ControllerEvent":"ZDCN","@game.object/ts-game-toolbox/dist/src/abstract/mvc/View":"ppdp"}],"ZKdK":[function(require,module,exports) {
"use strict";function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=i();return function(){var n,o=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return r(this,n)}}function r(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?o(e):t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FinalPromiseController=exports.PromiseController=void 0;var a=require("./Helper"),p=function(){function e(t){s(this,e),this.next=null,this.cached_response=null,this.resolver=this.create_resolver_function(t)}return f(e,[{key:"create_resolver_function",value:function(e){var t=this;return function(){var n="object"===c(e)?e:e();return n.controller.next=t.create_controller_next_function(n),n}}},{key:"create_controller_next_function",value:function(e){var t=this;return function(){return null===t.next?t:(t.resolver=t.next.resolver,t.cached_response=null,t.next=t.next.next,t)}}},{key:"then",value:function(t){return this.next?this.next.then(t):this.next=t instanceof e?t:new e(t),this}},{key:"finaly",value:function(e){return this.next?this.next.finaly(e):this.next=new h(e),this}},{key:"response",get:function(){if(this.cached_response)return this.cached_response;var e=this.resolver();return this.cached_response={},a.update_controller_response(this.cached_response,e),this.cached_response}},{key:"view",get:function(){var e;return null===(e=this.response)||void 0===e?void 0:e.view}},{key:"controller",get:function(){var e;return null===(e=this.response)||void 0===e?void 0:e.controller}},{key:"events",get:function(){var e;return null===(e=this.response)||void 0===e?void 0:e.events}}]),e}();exports.PromiseController=p;var h=function(t){e(o,p);var r=n(o);function o(e){return s(this,o),r.call(this,function(){return"object"===c(e)?e:e()})}return f(o,[{key:"create_resolver_function",value:function(e){return function(){return"object"===c(e)?e:e()}}}]),o}();exports.FinalPromiseController=h;
},{"./Helper":"e3dh"}],"B7Hn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Model=void 0;class e{constructor(e){this.models=e}}exports.Model=e;
},{}],"TYLX":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=a();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameModel=exports.Comparison=void 0;var p,l=require("@game.object/ts-game-toolbox/dist/src/abstract/mvc/Model");!function(t){t[t.IS_BIGGER=0]="IS_BIGGER",t[t.IS_SMALLER=1]="IS_SMALLER",t[t.IS_EQUAL=2]="IS_EQUAL"}(p=exports.Comparison||(exports.Comparison={}));var y=function(t){o(u,l.Model);var n=i(u);function u(){var t;return e(this,u),(t=n.apply(this,arguments)).hidden_number=0,t.tries=0,t}return r(u,[{key:"update",value:function(t){}},{key:"compare_with",value:function(t){return this.hidden_number===t?p.IS_EQUAL:this.hidden_number<t?p.IS_SMALLER:p.IS_BIGGER}},{key:"next_round",value:function(){this.tries=0,this.hidden_number=Math.trunc(10*Math.random())}}]),u}();exports.GameModel=y;
},{"@game.object/ts-game-toolbox/dist/src/abstract/mvc/Model":"B7Hn"}],"EPWd":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=s();return function(){var r,n=a(e);if(t){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?c(t):r}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameController=void 0;var f=require("./BaseController"),p=require("../tools/PromiseController"),y=require("../models/GameModel"),h=function(e){o(i,f.BaseController);var r=u(i);function i(){return t(this,i),r.apply(this,arguments)}return n(i,[{key:"new_game",value:function(){var e=this;return new p.PromiseController(function(){return{controller:e.controllers.for_event.text_page_controller,view:e.views.text.reset().text.set(["In diesem Spiel musst du die Zahl,","die der Computer sich ausdenkt erraten.","Nach jedem Versuch gibt der Computer dir einen Tip,","mit dem du die MÃ¶glichkeiten eingrenzen kannst."])}}).then(this.next_round())}},{key:"next_round",value:function(){var e=this;return new p.PromiseController(function(){return e.models.game.next_round(),{controller:e.controllers.for_event.text_page_controller,view:e.views.text.reset().text.set("Ich habe mir eine neue Zahl ausgedacht, legen wir los.")}}).finaly(function(){return{controller:e.controllers.for_event.game_controller,view:e.views.text.reset().text.set("Gib mir eine ziffer zwischen 0 und 9:").continue_hint.set("Tippe eine Ziffer =>")}})}},{key:"player_won",value:function(){var e=this;return new p.PromiseController(function(){return{controller:e.controllers.for_event.text_page_controller,view:e.views.text.reset().text.set("Du hast es erraten, gleich noch einmal.")}}).then(this.next_round())}},{key:"player_guess",value:function(e){switch(this.models.game.compare_with(e)){case y.Comparison.IS_EQUAL:return this.player_won();case y.Comparison.IS_BIGGER:return this.views.text.text.set("My number is bigger");case y.Comparison.IS_SMALLER:return this.views.text.text.set("My number is smaller")}}}]),i}();exports.GameController=h;
},{"./BaseController":"XI4W","../tools/PromiseController":"ZKdK","../models/GameModel":"TYLX"}],"teCv":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=l();return function(){var r,n=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return i(this,r)}}function i(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?f(e):r}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameEventController=void 0;var s=require("../BaseController"),p=function(t){o(u,s.BaseController);var r=c(u);function u(){return e(this,u),r.apply(this,arguments)}return n(u,[{key:"update",value:function(t){return this.models.game.update(t),null}},{key:"key_pressed",value:function(t){var e=t.key.charCodeAt(0)-48;return e>=0&&e<=9?this.controllers.game_controller.player_guess(e):null}}]),u}();exports.GameEventController=p;
},{"../BaseController":"XI4W"}],"PnXR":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=l();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextPageEventController=void 0;var s=require("../BaseController"),p=function(t){o(u,s.BaseController);var n=c(u);function u(){var t;return e(this,u),(t=n.apply(this,arguments)).next=null,t}return r(u,[{key:"update",value:function(t){return this.models.game.update(t),null}},{key:"key_pressed",value:function(t){return"Enter"===t.key&&this.next?this.next():null}}]),u}();exports.TextPageEventController=p;
},{"../BaseController":"XI4W"}],"E2Jx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create_controllers=void 0;var e=require("./GameController"),r=require("./event_controllers/GameEventController"),t=require("./event_controllers/TextPageEventController");function o(o,l){var n={},a={game_controller:new e.GameController(o,l,n),for_event:{game_controller:new r.GameEventController(o,l,n),text_page_controller:new t.TextPageEventController(o,l,n)}};return Object.assign(n,a)}exports.create_controllers=o;
},{"./GameController":"EPWd","./event_controllers/GameEventController":"teCv","./event_controllers/TextPageEventController":"PnXR"}],"jlWg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SignalSocket=void 0;class e{constructor(){this.listeners=[]}add(e){this.listeners.push(e)}remove(e){const s=this.listeners.indexOf(e);if(s<0)return;const t=this.listeners.length;this.listeners[s]=this.listeners[t-1],this.listeners.pop()}trigger_event(e){this.listeners.forEach(s=>{s(e)})}}exports.SignalSocket=e;
},{}],"rtz4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObservableSocket=void 0;const e=require("./SignalSocket");class t extends e.SignalSocket{constructor(e){super(),this.value=e}trigger_event(){throw new Error("Do not call this directly")}set(e){super.trigger_event({old:this.value,new:e}),this.value=e}get(){return this.value}}exports.ObservableSocket=t;
},{"./SignalSocket":"jlWg"}],"svuQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.signals=void 0;const e=require("./SignalSocket"),s=require("./ObservableSocket");exports.signals={SignalSocket:e.SignalSocket,ObservableSocket:s.ObservableSocket};
},{"./SignalSocket":"jlWg","./ObservableSocket":"rtz4"}],"bhgc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AssetManager=void 0;class e{}exports.AssetManager=e;
},{}],"Ozob":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assets=void 0;const e=require("./manager/AssetManager");exports.assets={AssetManager:e.AssetManager};
},{"./manager/AssetManager":"bhgc"}],"G7ia":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Vector2=void 0;class t{constructor(t=0,s=0){"object"==typeof t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=s)}set(t,s=0){return"object"==typeof t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=s),this}sub(t){return this.x-=t.x,this.y-=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}mul(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t,this.y/=t,this}len2(){return this.x*this.x+this.y*this.y}len(){return Math.sqrt(this.len2())}set_magnitude(t){const s=this.len();return this.x=this.x/s*t,this.y=this.y/s*t,this}dot(t){return this.x*t.x+this.y*t.y}cross(s){return new t(this.x*s.y,this.y*s.x)}get_unsigned(){return new t(Math.abs(this.x),Math.abs(this.y))}cpy(){return new t(this.x,this.y)}normalize(){const t=this.len();return t<1e-6?this:(this.x/=t,this.y/=t,this)}get_projection_of(t){const s=this.dot(t)/this.len2();return this.cpy().mul(s)}is_null_vector(){return Math.abs(this.x)<.001&&Math.abs(this.y)<.001}get_angle(){return(Math.atan2(this.y,this.x)+Math.PI/2)%(2*Math.PI)}rotate_radians_clockwise(t){const s=Math.sin(t),i=Math.cos(t),h=-s*this.y+i*this.x,e=s*this.x+i*this.y;return this.y=e,this.x=h,this}rotate_right_angles_clockwise(t=1){if(t<1)return this;const s=this.y;return this.y=-this.x,this.x=s,this.rotate_right_angles_clockwise(t-1)}static from_angle(s,i=1){return new t(Math.cos(s)*i,Math.sin(s)*i)}}exports.Vector2=t,t.RIGHT=new t(1,0),t.LEFT=new t(-1,0),t.UP=new t(0,-1),t.DOWN=new t(0,1);
},{}],"auAx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Rect=void 0;const t=require("./Vector2");class h{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.w=i,this.h=s}get left(){return this.x}get_left(){return this.x}get top(){return this.y}get_top(){return this.y}get right(){return this.x+this.w}get_right(){return this.x+this.w}get_bottom(){return this.y+this.h}get bottom(){return this.y+this.h}get width(){return this.w}get_width(){return this.w}get height(){return this.h}get_height(){return this.h}cpy(){return new h(this.x,this.y,this.w,this.h)}set(t,h,i,s){return"object"==typeof t?(this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h):(this.x=t,this.y=h,void 0!==i&&(this.w=i),void 0!==s&&(this.h=s)),this}get_area(){return this.w*this.h}get center(){return new t.Vector2(this.x+this.w/2,this.y+this.h/2)}set center(t){this.x=t.x-this.w/2,this.y=t.y-this.h/2}set_center(t){return this.center=t,this}expand_to(t){if(this.contains(t))return this;const h=Math.min(this.x,t.x),i=Math.min(this.y,t.y),s=Math.max(this.get_right(),t.x),e=Math.max(this.get_bottom(),t.y);return this.set(h,i,s-h,e-i)}overlaps_with(t){return h.overlap(this,t)}is_within(t){return h.is_within(this,t)}contains(t,i){if("object"==typeof t)return h.contains(this,t);if("number"!=typeof i)throw new Error("Unexpected type error");return h.contains(this,{x:t,y:i})}lerp(t,h){const i=1-h;return this.x=this.x*i+t.x*h,this.y=this.y*i+t.y*h,this.w=this.w*i+t.w*h,this.h=this.h*i+t.h*h,this}get_corners(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]}static contains(t,h){return h.x>=t.x&&h.y>=t.y&&h.x<=t.x+t.w&&h.y<=t.y+t.h}static contains_exclusive(t,h){return h.x>t.x&&h.y>t.y&&h.x<t.x+t.w&&h.y<t.y+t.h}static overlap(t,h){const i=t.x+t.w>h.x&&t.x<=h.x||h.x+h.w>t.x&&h.x<=t.x,s=t.y+t.h>h.y&&t.y<=h.y||h.y+h.h>t.y&&h.y<=t.y;return i&&s}static is_within(t,h){const i=t.x>h.x&&t.x+t.w<h.x+h.w,s=t.y>h.y&&t.y+t.h<h.y+h.h;return i&&s}}exports.Rect=h;
},{"./Vector2":"G7ia"}],"fzXx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.geometries=void 0;const e=require("./Rect"),t=require("./Vector2");exports.geometries={Rect:e.Rect,Vector2:t.Vector2};
},{"./Rect":"auAx","./Vector2":"G7ia"}],"G8a9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestClassExceptionExpectedExcetpion=void 0;class e extends Error{}exports.TestClassExceptionExpectedExcetpion=e;
},{}],"MaUj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestClass=void 0;const e=require("./exceptions/ExceptionExpectedException");class t{set_up(){console.log(this)}tear_down(){}set_class_up(){}tear_class_down(){}run_all_test_cases(){const e=this;console.log(">>> Start "+e.get_name()),this.set_class_up();for(const t of Object.getOwnPropertyNames(e.__proto__)){const s=e[t];"function"==typeof s&&0===t.indexOf("test")&&(console.log("%c > Run "+t,"background: blue; color: yellow;"),e.set_up(),s.call(e),e.tear_down(),console.log("%c < Done ","background: blue; color: green;"))}this.tear_class_down(),console.log("<<< Done "+e.get_name())}assert_exception(t,s){try{throw s(),new e.TestClassExceptionExpectedExcetpion("Expected an exception from "+String(s).substr(0,255))}catch(o){if(!(o instanceof t))throw o;this.success()}}assert_instance_of(e,t){if(!1==e instanceof t)throw new Error("Expected "+e.toString()+" to be of instance "+t.name);this.success()}assert_equals(e,t){if(e!==t)throw new Error("Expected "+String(e)+" to be equal to "+String(t));this.success()}assert_not_equals(e,t){if(e===t)throw new Error("Expected "+String(e)+" to be NOT equal to "+String(t));this.success()}assert_true(e){if(!1===e)throw new Error("Expected "+String(e)+" to be true");this.success()}assert_false(e){if(!0===e)throw new Error("Expected "+String(e)+" to be false");this.success()}success(){console.log(".")}}exports.TestClass=t;
},{"./exceptions/ExceptionExpectedException":"G8a9"}],"GYDv":[function(require,module,exports) {
"use strict";var o=this&&this.__awaiter||function(o,e,n,t){return new(n||(n=Promise))(function(r,i){function s(o){try{l(t.next(o))}catch(e){i(e)}}function c(o){try{l(t.throw(o))}catch(e){i(e)}}function l(o){var e;o.done?r(o.value):(e=o.value,e instanceof n?e:new n(function(o){o(e)})).then(s,c)}l((t=t.apply(o,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestConsoleLogElement=void 0;class e{constructor(){this.window_on_error_func=((o,e,n,t,r)=>{o instanceof ErrorEvent&&(o.filename,o.lineno,o.colno,r=o.error),r instanceof Error?console.error(r.name+" : "+r.message):console.error(o)}),this.container=this.create_element(),this.hook_into_console_log(),this.hook_into_console_error(),this.hook_into_window_error()}get_element(){return this.container}clear(){this.container.innerHTML=""}hook_into_console_log(){const o=window.console.log;console.log=((...e)=>{o(...e),this.log(...e)})}hook_into_console_error(){const o=window.console.error;console.error=((...e)=>{const n=e[0].toString();o(n),this.log("%c"+n,"color: red;",...e)})}hook_into_window_error(){window.addEventListener("error",this.window_on_error_func)}create_element(){const o=document.createElement("div");return o.className="test-console-log",o}log(...o){const e=o.shift();if("string"==typeof e)return this.print_format(e,...o).then((...e)=>{this.log(...o)});o.forEach(o=>{this.print(o.toString())})}print_format(e,...n){return o(this,void 0,void 0,function*(){return new Promise((o,t)=>{let r="",i=e;for(0===e.indexOf("%c")&&(r=n[0],i=i.substr(2));-1!==i.indexOf("%s");){const o=n.shift();if(null===o)throw Error("argument mismatch");i=i.replace("%s",o.toString())}this.print(i,r)})})}print(o,e){const n=document.createElement("span");e&&(n.style.cssText=e),n.innerText=o,this.container.append(n)}}exports.TestConsoleLogElement=e;
},{}],"cQ1h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestDashboard=void 0;const e=require("./TestConsoleLogElement");class t{constructor(){this.tests=[],this.start_all_tests_func=(()=>{this.elements.console_log.clear(),console.log("Starting Tests ... ");for(const e of this.tests)e.run_all_test_cases();console.log(" ... Tests finished")}),this.elements=this.create_dashboard_elements()}get_element(){return this.elements.dashboard}create_dashboard_elements(){const t=this.create_dashboard_wrapping_element(),s=this.create_test_button_list(),n=new e.TestConsoleLogElement;return t.append(s),t.append(n.get_element()),this.elements={dashboard:t,button_list:s,console_log:n},this.elements}create_dashboard_wrapping_element(){const e=document.createElement("div");return e.className="test-dashboard",e}create_test_button_list(){const e=document.createElement("ul");e.className="test-dashboard__button-list";const t=this.create_element_button("Run all tests",this.start_all_tests_func);return e.append(t),this.tests.forEach(t=>{const s=this.create_element_for_test_button(t);e.append(s)}),e}create_element_for_test_button(e){return this.create_element_button(e.get_name(),()=>{this.elements.console_log.clear(),e.run_all_test_cases()})}create_element_button(e,t){let s=document.createElement("li"),n=document.createElement("button");return n.innerText=e,n.addEventListener("click",t),s.append(n),s}add_test(e){return e instanceof Array||(e=[e]),e.forEach(e=>{this.tests.push(e),this.elements&&this.elements.button_list.append(this.create_element_for_test_button(e))}),this}}exports.TestDashboard=t;
},{"./TestConsoleLogElement":"GYDv"}],"NgnQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.testing=void 0;const s=require("./TestClass"),e=require("./TestDashboard");exports.testing={TestClass:s.TestClass,TestDashboard:e.TestDashboard};
},{"./TestClass":"MaUj","./TestDashboard":"cQ1h"}],"xtZH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreeElementNotFoundException=void 0;class e extends Error{constructor(t){super(t),this.name=e.name,Object.setPrototypeOf(this,e.prototype)}}exports.TreeElementNotFoundException=e;
},{}],"mfAS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuadTreeBranch=exports.QuadTree=void 0;const e=require("./exceptions/TreeElementNotFoundException"),t=require("../geometries/Rect");class r{constructor(e){this.root_branch=new h(e.x,e.y,e.w,e.h)}pick(e){return this.root_branch.pick(e)}add(e){t.Rect.is_within(e,this.root_branch)?this.root_branch.add(e):(this.elevate_root_branch(),this.add(e))}elevate_root_branch(){const e=this.root_branch,t={x:e.x-e.w,y:e.y-e.h,w:2*e.w,h:2*e.h},r={x:t.x,y:t.y,w:2*t.w,h:2*t.h};this.wrap_root_node_in_node_with_rect(t,2),this.wrap_root_node_in_node_with_rect(r,0)}wrap_root_node_in_node_with_rect(e,t){const r=new h(e.x,e.y,e.w,e.h);if(r.create_child_branches(),!r.child_branch_nodes)throw new Error;r.child_branch_nodes[t]=this.root_branch,this.root_branch=r}change_element(e,t){this.remove(e),e.x=t.x,e.y=t.y,e.w=t.w,e.h=t.h,this.add(e)}remove(t){if(!this.root_branch.remove(t))throw new e.TreeElementNotFoundException}is_empty(){return this.root_branch.is_empty()}clear(){this.root_branch.clear(8)}}exports.QuadTree=r;class h extends t.Rect{constructor(){super(...arguments),this.child_branch_nodes=null,this.elements=[]}add(e){if(null===this.child_branch_nodes)return this.elements.push(e),this.create_child_branches_if_necessary(),!0;const t=this.child_branch_nodes.filter(t=>t.overlaps_with(e),[]);if(0===t.length)throw Error("Inconsistent Result");return 1===t.length?t[0].add(e):this.elements.push(e),!0}readd_own_elements(){this.elements.splice(0).forEach(e=>{this.add(e)})}create_child_branches_if_necessary(){this.elements.length<10||(this.create_child_branches(),this.readd_own_elements())}create_child_branches(){const e=this.w/2,t=this.h/2;this.child_branch_nodes=[new h(this.x,this.y,e,t),new h(this.x+e,this.y,e,t),new h(this.x+e,this.y+t,e,t),new h(this.x,this.y+t,e,t)]}pick(e,r=[]){if(!this.overlaps_with(e))return r;if(r.push(...this.elements.filter(r=>t.Rect.overlap(e,r))),null===this.child_branch_nodes)return r;if(this.is_within(e))return this.pick_all(r);for(let t of this.child_branch_nodes)t.pick(e,r);return r}pick_all(e){if(e.push(...this.elements),null===this.child_branch_nodes)return e;for(let t of this.child_branch_nodes)t.pick_all(e);return e}remove(e){const t=this.elements.indexOf(e);if(-1!==t)return this.elements.splice(t,1),!0;if(null===this.child_branch_nodes)return!1;for(let r of this.child_branch_nodes)if(r.remove(e))return!0;return!1}is_empty(){if(!this.is_self_empty())return!1;if(null===this.child_branch_nodes)return!0;for(let e of this.child_branch_nodes)if(!e.is_empty())return!1;return!0}is_self_empty(){return 0===this.elements.length}clear(e){this.elements.splice(0),this.child_branch_nodes&&(e<=0?this.child_branch_nodes=null:this.child_branch_nodes.forEach(t=>{t.clear(e-1)}))}}exports.QuadTreeBranch=h;
},{"./exceptions/TreeElementNotFoundException":"xtZH","../geometries/Rect":"auAx"}],"nW6d":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),t=this&&this.__exportStar||function(t,r){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(r,o)||e(r,t,o)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.trees=void 0;const r=require("./QuadTree"),o=require("./exceptions/TreeElementNotFoundException");t(require("./QuadTree"),exports),t(require("./exceptions/TreeElementNotFoundException"),exports),exports.trees={exceptions:{TreeElementNotFoundException:o.TreeElementNotFoundException},QuadTree:r.QuadTree};
},{"./QuadTree":"mfAS","./exceptions/TreeElementNotFoundException":"xtZH"}],"Gmei":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasView=void 0;const t=require("./View");class e extends t.View{constructor(t,e){super(e),this.canvas=t;const s=t.getContext("2d");if(!s)throw new Error("could not create context");this.context=s}reset_canvas_state(){this.context.font="32px monospace",this.context.textAlign="left",this.context.fillStyle="black",this.context.strokeStyle="white"}}exports.CanvasView=e;
},{"./View":"ppdp"}],"ir6e":[function(require,module,exports) {
"use strict";function e(e,s){return new t(e,s)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControllerEventConstructor=exports.event=void 0,exports.event=e;class t{constructor(e,t){this.event=e,this.time_provide=t,"string"==typeof e?this.event_name=e:(this.event_name=e.event_name,Object.assign(this,e))}after_x_seconds(e){return this.fire_at=this.time_provide.ingame_time_in_seconds+e,this}set_data(e){return Object.assign(this,e),this}}exports.ControllerEventConstructor=t;
},{}],"usJl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MvcGame=void 0;const e=require("./Controller"),t=require("./ControllerEvent"),i=require("./View");class r{constructor(){this.active_view=null,this.active_controller=null,this.event_queue=[],this.ingame_time_in_seconds=0}update(e){this.ingame_time_in_seconds+=e,this.active_controller&&this.active_controller.update&&(this.apply_controller_response(this.active_controller.update(e)),this.handle_events())}handle_events(){let e=[...this.event_queue];this.event_queue=[],e=e.filter(e=>!!(e.fire_at&&e.fire_at>=this.ingame_time_in_seconds)||!!this.active_controller&&(!!this.active_controller.dispatch_event&&(this.apply_controller_response(this.active_controller.dispatch_event(e)),!1))),this.event_queue=[...e,...this.event_queue]}apply_controller_response(r){if(null!==r){if(i.is_view_interface(r))return this.set_active_view(r);if(e.is_event_controller_interface(r))return this.set_active_controller(r);if(t.is_controller_event(r))return this.event_queue.push(r);void 0!==r.view&&this.set_active_view(r.view),void 0!==r.controller&&this.set_active_controller(r.controller),void 0!==r.events&&this.event_queue.push(...r.events)}}draw(){this.active_view&&(this.active_view.update&&this.active_view.update(),this.active_view.draw())}set_active_controller(e){this.active_controller=e}set_active_view(e){this.active_view=e}}exports.MvcGame=r;
},{"./Controller":"ohAD","./ControllerEvent":"ZDCN","./View":"ppdp"}],"VGJj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MvcCanvasGame=void 0;const e=require("./MvcGame");class t extends e.MvcGame{constructor(){super();const e=document.getElementById("canvas");if(!(e instanceof HTMLCanvasElement))throw new Error("Canvas not found");this.canvas=e;const t=this.create_models(),s=this.create_views(e),a=this.create_controllers(t,s);this.models=t,this.views=s,this.controllers=a,this.attach_event_listeners(),this.apply_controller_response(this.start())}attach_event_listeners(){this.canvas.addEventListener("keydown",e=>{this.active_controller&&this.active_controller.key_pressed&&this.apply_controller_response(this.active_controller.key_pressed(e))}),this.canvas.addEventListener("click",e=>{if(this.active_controller&&this.active_controller.mouse_pressed){const t=(e.x-this.canvas.offsetLeft)*this.canvas.width/this.canvas.clientWidth,s=(e.y-this.canvas.offsetTop)*this.canvas.height/this.canvas.clientHeight,a=this.active_controller.mouse_pressed(e,t,s);this.apply_controller_response(a)}})}}exports.MvcCanvasGame=t;
},{"./MvcGame":"usJl"}],"grTE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModelTable=void 0;class e{constructor(e,s){this.models=[],this.model_collection=e,this.model_class=s}insert_new(e){return this.insert(e?e(new this.model_class(this.model_collection)):new this.model_class(this.model_collection))}insert(e){return this.models.push(e),e}delete(e){this.models=this.models.filter(s=>e!==s)}all(){return this.models}filter(e){this.models=this.models.filter(e)}map(e){this.models=this.models.map(e)}for_each(e){this.models.forEach(e)}where(e,s){let t;return t=s instanceof Function?t=>s(t[e]):t=>t[e]===s,this.models.filter(t)}}exports.ModelTable=e;
},{}],"OesR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.abstract=void 0;const e=require("./mvc/Model"),r=require("./mvc/View"),o=require("./mvc/Controller"),a=require("./mvc/CanvasView"),l=require("./mvc/helpers/ControllerEvent"),t=require("./mvc/MVCgame"),v=require("./mvc/MvcCanvasGame"),c=require("./mvc/ModelTable");exports.abstract={mvc:{MvcGame:t.MvcGame,MvcCanvasGame:v.MvcCanvasGame,CanvasView:a.CanvasView,Model:e.Model,ModelTable:c.ModelTable,View:r.View,Controller:o.Controller,helpers:{ControllerEventConstructor:l.ControllerEventConstructor}}};
},{"./mvc/Model":"B7Hn","./mvc/View":"ppdp","./mvc/Controller":"ohAD","./mvc/CanvasView":"Gmei","./mvc/helpers/ControllerEvent":"ir6e","./mvc/MVCgame":"usJl","./mvc/MvcCanvasGame":"VGJj","./mvc/ModelTable":"grTE"}],"ps2g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RgbColor=void 0;class t{constructor(t=0,s=0,r=0,i=255){this.r=t,this.g=s,this.b=r,this.a=i}to_hex(){return"#"+[this.r,this.g,this.b,this.a].map(t=>("00"+t.toString(16)).substr(-2)).join("")}lerp(s,r){return new t(this.r*(1-r)+s.r*r,this.g*(1-r)+s.g*r,this.b*(1-r)+s.b*r,this.a*(1-r)+s.a*r)}}exports.RgbColor=t;
},{}],"DYdi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.data=void 0;const e=require("./RgbColor");exports.data={RgbColor:e.RgbColor};
},{"./RgbColor":"ps2g"}],"utg4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Colors=void 0;const o=require("../data/RgbColor");exports.Colors={RED:new o.RgbColor(255,0,0),BLUE:new o.RgbColor(0,0,255),GREEN:new o.RgbColor(0,255,0),BLACK:new o.RgbColor(0,0,0),WHITE:new o.RgbColor(255,255,255)};
},{"../data/RgbColor":"ps2g"}],"fNAh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.commons=void 0;const o=require("./Colors");exports.commons={Colors:o.Colors};
},{"./Colors":"utg4"}],"g0Cu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tools=void 0;const e=require("./src/signals"),s=require("./src/assets"),r=require("./src/geometries"),t=require("./src/testing"),i=require("./src/trees"),o=require("./src/abstract"),a=require("./src/data"),c=require("./src/commons");exports.tools={signals:e.signals,assets:s.assets,geometries:r.geometries,testing:t.testing,trees:i.trees,abstract:o.abstract,data:a.data,commons:c.commons};
},{"./src/signals":"svuQ","./src/assets":"Ozob","./src/geometries":"fzXx","./src/testing":"NgnQ","./src/trees":"nW6d","./src/abstract":"OesR","./src/data":"DYdi","./src/commons":"fNAh"}],"jhl2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CP=exports.ChainProperty=void 0;class t{constructor(t,e){this.view=t,this.property=e}set(t){return this.property=t,this.view}get(){return this.property}}exports.ChainProperty=t,exports.CP=t;
},{}],"vGK4":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function n(t,e,o){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var r=c(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(o):n.value}})(t,e,o||t)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=l();return function(){var o,r=p(t);if(e){var n=p(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return f(this,o)}}function f(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?s(e):o}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MainView=void 0;var y=require("@game.object/ts-game-toolbox"),b=require("@game.object/ts-game-toolbox/dist/src/abstract/mvc/CanvasView"),h=require("@game.object/ts-game-toolbox/dist/src/signals/ChainProperty"),v=function(t){i(c,b.CanvasView);var o=a(c);function c(){var t;return e(this,c),(t=o.apply(this,arguments)).bg_color=new h.ChainProperty(s(t),y.tools.commons.Colors.BLACK),t}return r(c,[{key:"draw",value:function(){this.reset_canvas_state()}},{key:"reset_canvas_state",value:function(){n(p(c.prototype),"reset_canvas_state",this).call(this),this.context.fillStyle=this.bg_color.get().to_hex(),this.context.fillRect(0,0,800,600),this.context.imageSmoothingEnabled=!1}}]),c}();exports.MainView=v;
},{"@game.object/ts-game-toolbox":"g0Cu","@game.object/ts-game-toolbox/dist/src/abstract/mvc/CanvasView":"Gmei","@game.object/ts-game-toolbox/dist/src/signals/ChainProperty":"jhl2"}],"Hvqq":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function r(t,e,o){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=i(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function i(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=a();return function(){var o,n=p(t);if(e){var r=p(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return u(this,o)}}function u(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?f(e):o}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextView=void 0;var h=require("@game.object/ts-game-toolbox"),y=require("@game.object/ts-game-toolbox/dist/src/abstract/mvc/CanvasView"),b=require("@game.object/ts-game-toolbox/dist/src/signals/ChainProperty"),g=function(t){c(i,y.CanvasView);var o=l(i);function i(){var t;return e(this,i),(t=o.apply(this,arguments)).bg_color=new b.ChainProperty(f(t),h.tools.commons.Colors.BLACK),t.fg_color=new b.ChainProperty(f(t),h.tools.commons.Colors.WHITE),t.text=new b.ChainProperty(f(t),""),t.continue_hint=new b.ChainProperty(f(t),"Press Enter to continue =>"),t}return n(i,[{key:"draw",value:function(){var t=this;this.reset_canvas_state();var e=this.text.get();if(e instanceof Array){this.context.textAlign="left";var o=e.length;e.forEach(function(e,n){t.context.fillText(e,50,300-15*o+30*n)})}else this.context.textAlign="center",this.context.fillText(e,400,300);this.context.textAlign="left",this.context.fillText(this.continue_hint.get(),550,580)}},{key:"reset",value:function(){return this.bg_color.set(h.tools.commons.Colors.BLACK).fg_color.set(h.tools.commons.Colors.WHITE).text.set("").continue_hint.set("Press Enter to continue =>")}},{key:"reset_canvas_state",value:function(){r(p(i.prototype),"reset_canvas_state",this).call(this),this.context.fillStyle=this.bg_color.get().to_hex(),this.context.fillRect(0,0,800,600),this.context.imageSmoothingEnabled=!1,this.context.fillStyle=this.fg_color.get().to_hex(),this.context.strokeStyle=this.fg_color.get().to_hex(),this.context.font="16px monospace"}}]),i}();exports.TextView=g;
},{"@game.object/ts-game-toolbox":"g0Cu","@game.object/ts-game-toolbox/dist/src/abstract/mvc/CanvasView":"Gmei","@game.object/ts-game-toolbox/dist/src/signals/ChainProperty":"jhl2"}],"xS9b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create_views=void 0;var e=require("./main/MainView"),i=require("./main/TextView");function r(r){var t={},a=new e.MainView(r,t),n=new i.TextView(r,t);return Object.assign(t,{main:a,text:n,partials:{}})}exports.create_views=r;
},{"./main/MainView":"vGK4","./main/TextView":"Hvqq"}],"nmq1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create_models=void 0;var e=require("./GameModel");function r(){var r={};return Object.assign(r,{game:new e.GameModel(r)})}exports.create_models=r;
},{"./GameModel":"TYLX"}],"Gz0f":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=c(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=s();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return a(this,r)}}function a(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?f(t):r}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=void 0;var y=require("../controllers/ControllerCollection"),v=require("../views/ViewCollection"),b=require("../models/ModelCollection"),h=require("@game.object/ts-game-toolbox/dist/src/abstract/mvc/MvcCanvasGame"),m=function(e){u(c,h.MvcCanvasGame);var r=l(c);function c(){return t(this,c),r.apply(this,arguments)}return n(c,[{key:"attach_event_listeners",value:function(){o(p(c.prototype),"attach_event_listeners",this).call(this)}},{key:"update",value:function(e){o(p(c.prototype),"update",this).call(this,e)}},{key:"start",value:function(){return this.controllers.game_controller.new_game()}},{key:"create_models",value:function(){return b.create_models()}},{key:"create_views",value:function(e){return v.create_views(e)}},{key:"create_controllers",value:function(e,t){return y.create_controllers(e,t)}}]),c}();exports.Game=m;
},{"../controllers/ControllerCollection":"E2Jx","../views/ViewCollection":"xS9b","../models/ModelCollection":"nmq1","@game.object/ts-game-toolbox/dist/src/abstract/mvc/MvcCanvasGame":"VGJj"}],"ACMl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.load_game=void 0;var e=require("./base/Game");function r(){a()}function a(){var r=new e.Game;performance.now();return requestAnimationFrame(function e(a){r.update(.016),a,r.draw(),requestAnimationFrame(e)}),r}exports.load_game=r;
},{"./base/Game":"Gz0f"}],"QCba":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./game/main");!function(){if(!(document.getElementById("app")instanceof HTMLDivElement))throw new Error("Could not locate canvas");e.load_game()}();
},{"./game/main":"ACMl"}]},{},["QCba"], null)
//# sourceMappingURL=src.a7c18b96.js.map